function PopUpLayer(a,e){var n,t=function(){e.style.display="none"};this.hide=function(a){n=setTimeout(t,300)},a.addEvent("mouseover",function(){e.style.display="block"}),a.addEvent("mouseout",this.hide),e.addEvent("mouseout",this.hide),e.addEvent("mouseover",function(){clearTimeout(n)})}var calendarLayer=new PopUpLayer(NTES("#getCalendar"),NTES("#calendarBox")),PrintDay=function(){new Date;this.getW=function(a){switch(a){case 0:return"\u661f\u671f\u65e5";case 1:return"\u661f\u671f\u4e00";case 2:return"\u661f\u671f\u4e8c";case 3:return"\u661f\u671f\u4e09";case 4:return"\u661f\u671f\u56db";case 5:return"\u661f\u671f\u4e94";case 6:return"\u661f\u671f\u516d"}}};PrintDay();var getLoadData=function(a){var e=a.responseText;e?$("#loadXmlData").innerHTML=e:$("#loadXmlData").innerHTML="\u6ca1\u6709\u4f1a\u8bae\uff01"},Calendar=function(){};Calendar.cDate=new Date,Calendar.year=Calendar.cDate.getFullYear(),Calendar.month=Calendar.cDate.getMonth(),Calendar.date=Calendar.cDate.getDate(),Calendar.init=function(a,e,n,t){var r;if(r=Calendar.month+1==12?12:Calendar.month+1,$(a).innerHTML=Calendar.year,$(e).innerHTML=r,t){var d;d=r<10?"0"+r.toString():r,NTES.ajax.send("http://tech.163.com/datemonth/"+Calendar.year+"/"+d,"get",null,{onSuccess:getLoadData})}Calendar.draw(n)},Calendar.monthDayNum=function(a,e){var n=new Date(a,e+1,0);return n.getDate()},Calendar.dayInWeek=function(a,e,n){var t=new Date(a,e,n);return t.getDay()},Calendar.draw=function(a){var e=Calendar.year,n=Calendar.month,t=Calendar.date,r=Calendar.dayInWeek(e,n,1),d=Calendar.monthDayNum(e,n,0);a(e,n,t,r,d)},Calendar.NP=function(a,e,n,t,r){var d=$(a),o=$(e),l=parseInt(d.innerHTML),i=parseInt(o.innerHTML);if("next"==n&&(i+=1,i>12&&(i=1,l+=1)),"previous"==n&&(i-=1,0==i&&(i=12,l-=1)),Calendar.month=i-1,Calendar.year=l,d.innerHTML=l,o.innerHTML=i,r){var c;c=i<10?"0"+i.toString():i,NTES.ajax.send("http://tech.163.com/datemonth/"+l+"/"+c,"get",null,{onSuccess:getLoadData})}Calendar.draw(t)},Calendar.print=function(a,e,n,t,r){var d,o,a=a,e=e,n=n,t=t,r=r,l=[];e<9?(e+=1,d="0"+e):d=e+1;for(var i=0;i<t;i++)l.push("<li></li>");for(var c=1;c<=r;c++)o=c<10?"0"+c:c,c==n?l.push('<li><a class="current" href="http://snapshot.news.163.com/wgethtml/http+!!tech.163.com!/'+a+"-"+d+"/"+o+'/12.html">'+c+"</a></li>"):l.push('<li><a href="http://snapshot.news.163.com/wgethtml/http+!!tech.163.com!/'+a+"-"+d+"/"+o+'/12.html">'+c+"</a></li>");var s=l.join("");$("#calendarList").innerHTML=s},Calendar.init("#setYear","#setMonth",Calendar.print),$("#preMonth").addEvent("click",function(a){Calendar.NP("#setYear","#setMonth","previous",Calendar.print),a.preventDefault()}),$("#nextMonth").addEvent("click",function(a){Calendar.NP("#setYear","#setMonth","next",Calendar.print),a.preventDefault()});
